{% extends './layout.html' %}

{% block body %}
<table class="table table-striped table-hover">
    <tr>
        <th>借阅人</th>
        <th>院系/部门</th>
        <th>学生证号</th>
        <th>借阅日期</th>
        <th>借阅天数</th>
        <th>续借次数</th>
        <th>借阅图书名</th>
        <th>借阅状态</th>
    </tr>
    {% for borrow in borrows %}
        <tr>
            <td>{{ borrow['borrow_name'] }}</td>
            <td>{{ borrow['department'] }}</td>
            <td>{{ borrow['card_number'] }}</td>
            <td>{{ borrow['borrow_date'] }}</td>
            <td>{{ borrow['days'] }}</td>
            <td>{{ borrow['renew_count'] }}</td>
            <td>{{ borrow['title'] }}</td>
            <td><span class="label label-{{ status_dict[borrow['status']].cls }}">{{ status_dict[borrow['status']].text }}</span></td>
        </tr>
    {%  endfor %}
</table>

<nav aria-label="Page navigation" class="text-center">
  <ul class="pagination">
    <li>
      <a href="{{ url_for('borrow.get_borrows', page=(page_index - 1)) }}" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
      {% for i in range(page_count) %}
          <li><a href="{{ url_for('borrow.get_borrows', page=(i + 1)) }}">{{ i + 1 }}</a></li>
      {% endfor %}
    <li>
      <a href="{{ url_for('borrow.get_borrows', page=(page_index + 1)) }}" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>

{% endblock %}